import{C as rt,B as ot,D as H,E as it,F as at,G as et,S as F,i as K,s as N,k as S,a as D,l as T,m as j,h as b,c as I,n as $,H as O,b as E,I as C,J as L,g as G,t as v,d as U,f as w,K as st,L as nt,o as lt,M as ct,N as R,O as ft,e as q,P as ut,v as W,w as A,x as J,y as M,Q as _t,R as pt,z as P,T as dt,U as X,V as mt,W as ht,X as gt,Y as yt,Z as bt,_ as $t,$ as kt,a0 as vt,a1 as wt,a2 as Et,a3 as St}from"../../chunks/index-0c05dbdb.js";import{t as z,s as Tt,e as jt}from"../../chunks/customToast-b787cac4.js";import{c as Ct,f as Ot,a as Dt}from"../../chunks/index-0344d67d.js";import{R as It}from"../../chunks/control-f5b05b5f.js";function Lt(n,{from:t,to:e},o={}){const s=getComputedStyle(n),i=s.transform==="none"?"":s.transform,[l,a]=s.transformOrigin.split(" ").map(parseFloat),r=t.left+t.width*l/e.width-(e.left+l),c=t.top+t.height*a/e.height-(e.top+a),{delay:d=0,duration:p=m=>Math.sqrt(m)*120,easing:_=Ct}=o;return{delay:d,duration:rt(p)?p(Math.sqrt(r*r+c*c)):p,easing:_,css:(m,f)=>{const u=f*r,h=f*c,y=m+f*t.width/e.width,B=m+f*t.height/e.height;return`transform: ${i} translate(${u}px, ${h}px) scale(${y}, ${B});`}}}function Y(n){return Object.prototype.toString.call(n)==="[object Date]"}function V(n,t){if(n===t||n!==n)return()=>n;const e=typeof n;if(e!==typeof t||Array.isArray(n)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const o=t.map((s,i)=>V(n[i],s));return s=>o.map(i=>i(s))}if(e==="object"){if(!n||!t)throw new Error("Object cannot be null");if(Y(n)&&Y(t)){n=n.getTime(),t=t.getTime();const i=t-n;return l=>new Date(n+l*i)}const o=Object.keys(t),s={};return o.forEach(i=>{s[i]=V(n[i],t[i])}),i=>{const l={};return o.forEach(a=>{l[a]=s[a](i)}),l}}if(e==="number"){const o=t-n;return s=>n+s*o}throw new Error(`Cannot interpolate ${e} values`)}function Rt(n,t={}){const e=ot(n);let o,s=n;function i(l,a){if(n==null)return e.set(n=l),Promise.resolve();s=l;let r=o,c=!1,{delay:d=0,duration:p=400,easing:_=et,interpolate:m=V}=H(H({},t),a);if(p===0)return r&&(r.abort(),r=null),e.set(n=s),Promise.resolve();const f=it()+d;let u;return o=at(h=>{if(h<f)return!0;c||(u=m(n,l),typeof p=="function"&&(p=p(n,l)),c=!0),r&&(r.abort(),r=null);const y=h-f;return y>p?(e.set(n=l),!1):(e.set(n=u(_(y/p))),!0)}),o.promise}return{set:i,update:(l,a)=>i(l(s,n),a),subscribe:e.subscribe}}function qt(n){let t,e=n[0].msg+"",o;return{c(){t=new ft(!1),o=q(),this.h()},l(s){t=ut(s,!1),o=q(),this.h()},h(){t.a=o},m(s,i){t.m(e,s,i),E(s,o,i)},p(s,i){i&1&&e!==(e=s[0].msg+"")&&t.p(e)},i:R,o:R,d(s){s&&b(o),s&&t.d()}}}function At(n){let t,e,o;const s=[n[2]];var i=n[0].component.src;function l(a){let r={};for(let c=0;c<s.length;c+=1)r=H(r,s[c]);return{props:r}}return i&&(t=W(i,l())),{c(){t&&A(t.$$.fragment),e=q()},l(a){t&&J(t.$$.fragment,a),e=q()},m(a,r){t&&M(t,a,r),E(a,e,r),o=!0},p(a,r){const c=r&4?_t(s,[pt(a[2])]):{};if(i!==(i=a[0].component.src)){if(t){G();const d=t;v(d.$$.fragment,1,0,()=>{P(d,1)}),U()}i?(t=W(i,l()),A(t.$$.fragment),w(t.$$.fragment,1),M(t,e.parentNode,e)):t=null}else i&&t.$set(c)},i(a){o||(t&&w(t.$$.fragment,a),o=!0)},o(a){t&&v(t.$$.fragment,a),o=!1},d(a){a&&b(e),t&&P(t,a)}}}function Z(n){let t,e,o;return{c(){t=S("div"),this.h()},l(s){t=T(s,"DIV",{class:!0,role:!0,tabindex:!0}),j(t).forEach(b),this.h()},h(){$(t,"class","_toastBtn pe svelte-95rq8t"),$(t,"role","button"),$(t,"tabindex","0")},m(s,i){E(s,t,i),e||(o=[L(t,"click",n[4]),L(t,"keydown",n[8])],e=!0)},p:R,d(s){s&&b(t),e=!1,st(o)}}}function Mt(n){let t,e,o,s,i,l,a,r,c,d;const p=[At,qt],_=[];function m(u,h){return u[0].component?0:1}o=m(n),s=_[o]=p[o](n);let f=n[0].dismissable&&Z(n);return{c(){t=S("div"),e=S("div"),s.c(),i=D(),f&&f.c(),l=D(),a=S("progress"),this.h()},l(u){t=T(u,"DIV",{class:!0});var h=j(t);e=T(h,"DIV",{role:!0,class:!0});var y=j(e);s.l(y),y.forEach(b),i=I(h),f&&f.l(h),l=I(h),a=T(h,"PROGRESS",{class:!0}),j(a).forEach(b),h.forEach(b),this.h()},h(){$(e,"role","status"),$(e,"class","_toastMsg svelte-95rq8t"),O(e,"pe",n[0].component),$(a,"class","_toastBar svelte-95rq8t"),a.value=n[1],$(t,"class","_toastItem svelte-95rq8t"),O(t,"pe",n[0].pausable)},m(u,h){E(u,t,h),C(t,e),_[o].m(e,null),C(t,i),f&&f.m(t,null),C(t,l),C(t,a),r=!0,c||(d=[L(t,"mouseenter",n[9]),L(t,"mouseleave",n[6])],c=!0)},p(u,[h]){let y=o;o=m(u),o===y?_[o].p(u,h):(G(),v(_[y],1,1,()=>{_[y]=null}),U(),s=_[o],s?s.p(u,h):(s=_[o]=p[o](u),s.c()),w(s,1),s.m(e,null)),(!r||h&1)&&O(e,"pe",u[0].component),u[0].dismissable?f?f.p(u,h):(f=Z(u),f.c(),f.m(t,l)):f&&(f.d(1),f=null),(!r||h&2)&&(a.value=u[1]),(!r||h&1)&&O(t,"pe",u[0].pausable)},i(u){r||(w(s),r=!0)},o(u){v(s),r=!1},d(u){u&&b(t),_[o].d(),f&&f.d(),c=!1,st(d)}}}function Pt(n,t,e){let o,{item:s}=t;const i=Rt(s.initial,{duration:s.duration,easing:et});nt(n,i,g=>e(1,o=g));const l=()=>z.pop(s.id),a=()=>{(o===1||o===0)&&l()};let r=s.initial,c=r,d=!1;const p=()=>{!d&&o!==r&&(i.set(o,{duration:0}),d=!0)},_=()=>{if(d){const g=s.duration,k=g-g*((o-c)/(r-c));i.set(r,{duration:k}).then(a),d=!1}};let m={};const f=(g,k="undefined")=>typeof g===k;let u;lt((g=document)=>{if(f(g.hidden))return;const k=()=>g.hidden?p():_(),Q="visibilitychange";g.addEventListener(Q,k),u=()=>g.removeEventListener(Q,k),k()}),ct(()=>{f(s.onpop,"function")&&s.onpop(s.id),u&&u()});const y=g=>{g instanceof KeyboardEvent&&["Enter"," "].includes(g.key)&&l()},B=()=>{s.pausable&&p()};return n.$$set=g=>{"item"in g&&e(0,s=g.item)},n.$$.update=()=>{if(n.$$.dirty&1&&(f(s.progress)||e(0,s.next=s.progress,s)),n.$$.dirty&131&&r!==s.next&&(e(7,r=s.next),c=o,d=!1,i.set(r).then(a)),n.$$.dirty&1&&s.component){const{props:g={},sendIdTo:k}=s.component;e(2,m={...g,...k&&{[k]:s.id}})}},[s,o,m,i,l,p,_,r,y,B]}class zt extends F{constructor(t){super(),K(this,t,Pt,Mt,N,{item:0})}}function x(n,t,e){const o=n.slice();return o[5]=t[e],o}function tt(n,t){let e,o,s,i,l,a,r,c,d=R,p;return o=new zt({props:{item:t[5]}}),{key:n,first:null,c(){e=S("li"),A(o.$$.fragment),s=D(),this.h()},l(_){e=T(_,"LI",{class:!0,style:!0});var m=j(e);J(o.$$.fragment,m),s=I(m),m.forEach(b),this.h()},h(){$(e,"class",i=X(t[5].classes.join(" "))+" svelte-1u812xz"),$(e,"style",l=t[1](t[5].theme)),this.first=e},m(_,m){E(_,e,m),M(o,e,null),C(e,s),p=!0},p(_,m){t=_;const f={};m&1&&(f.item=t[5]),o.$set(f),(!p||m&1&&i!==(i=X(t[5].classes.join(" "))+" svelte-1u812xz"))&&$(e,"class",i),(!p||m&1&&l!==(l=t[1](t[5].theme)))&&$(e,"style",l)},r(){c=e.getBoundingClientRect()},f(){mt(e),d(),ht(e,c)},a(){d(),d=gt(e,c,Lt,{duration:200})},i(_){p||(w(o.$$.fragment,_),yt(()=>{r&&r.end(1),a=bt(e,Ot,t[5].intro),a.start()}),p=!0)},o(_){v(o.$$.fragment,_),a&&a.invalidate(),r=$t(e,Dt,{}),p=!1},d(_){_&&b(e),P(o),_&&r&&r.end()}}}function Bt(n){let t,e=[],o=new Map,s,i=n[0];const l=a=>a[5].id;for(let a=0;a<i.length;a+=1){let r=x(n,i,a),c=l(r);o.set(c,e[a]=tt(c,r))}return{c(){t=S("ul");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){t=T(a,"UL",{class:!0});var r=j(t);for(let c=0;c<e.length;c+=1)e[c].l(r);r.forEach(b),this.h()},h(){$(t,"class","_toastContainer svelte-1u812xz")},m(a,r){E(a,t,r);for(let c=0;c<e.length;c+=1)e[c].m(t,null);s=!0},p(a,[r]){if(r&3){i=a[0],G();for(let c=0;c<e.length;c+=1)e[c].r();e=dt(e,r,l,1,a,i,o,t,kt,tt,null,x);for(let c=0;c<e.length;c+=1)e[c].a();U()}},i(a){if(!s){for(let r=0;r<i.length;r+=1)w(e[r]);s=!0}},o(a){for(let r=0;r<e.length;r+=1)v(e[r]);s=!1},d(a){a&&b(t);for(let r=0;r<e.length;r+=1)e[r].d()}}}function Ht(n,t,e){let o;nt(n,z,r=>e(4,o=r));let{options:s={}}=t,{target:i="default"}=t,l;const a=r=>Object.keys(r).reduce((c,d)=>`${c}${d}:${r[d]};`,"");return n.$$set=r=>{"options"in r&&e(2,s=r.options),"target"in r&&e(3,i=r.target)},n.$$.update=()=>{n.$$.dirty&12&&z._init(i,s),n.$$.dirty&24&&e(0,l=o.filter(r=>r.target===i))},[l,a,s,i,o]}class Vt extends F{constructor(t){super(),K(this,t,Ht,Bt,N,{options:2,target:3})}}function Ft(n,t){return new It(n,t)}function Kt(n){let t,e,o;t=new Vt({});const s=n[1].default,i=vt(s,n,n[0],null);return{c(){A(t.$$.fragment),e=D(),i&&i.c()},l(l){J(t.$$.fragment,l),e=I(l),i&&i.l(l)},m(l,a){M(t,l,a),E(l,e,a),i&&i.m(l,a),o=!0},p(l,[a]){i&&i.p&&(!o||a&1)&&wt(i,s,l,l[0],o?St(s,l[0],a,null):Et(l[0]),null)},i(l){o||(w(t.$$.fragment,l),w(i,l),o=!0)},o(l){v(t.$$.fragment,l),v(i,l),o=!1},d(l){P(t,l),l&&b(e),i&&i.d(l)}}}function Nt(n,t,e){let{$$slots:o={},$$scope:s}=t;const i=async()=>{await Tt.auth.onAuthStateChange(l=>{l=="TOKEN_REFRESHED"&&(z.push("Session expired.",jt),Ft("/login"))})};return n.$$set=l=>{"$$scope"in l&&e(0,s=l.$$scope)},i(),[s,o]}class Wt extends F{constructor(t){super(),K(this,t,Nt,Kt,N,{})}}export{Wt as default};
